<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SCOOT SHOP — G2</title>
  <meta name="description" content="G2 de SCOOT SHOP: motor 500 W, batería 48V 10.4Ah, hasta 40 km/h y autonomía real 45 km. Subidas 18–25°. Envío 6–8 días y garantía 70 km por producto.">

  <!-- Tipografías -->
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@700&display=swap" rel="stylesheet">
  <!-- Iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- JSON-LD Product -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Product",
    "name":"G2",
    "brand":{"@type":"Brand","name":"SCOOT SHOP"},
    "description":"Scooter eléctrico G2 con motor 500 W, batería 48V 10.4Ah, hasta 40 km/h y autonomía 45 km.",
    "image":["Img-G2/1.jpg","Img-G2/2.jpg","Img-G2/3.jpg","Img-G2/4.jpg"],
    "offers":{"@type":"Offer","priceCurrency":"EUR","price":"380","availability":"https://schema.org/InStock","itemCondition":"https://schema.org/NewCondition","url":"https://tudominio.example/g2.html"}
  }
  </script>

  <style>
    :root{
      --sport-font:'Russo One',sans-serif;
      --logo-font:'Tangerine',cursive;
      --ui: ui-sans-serif, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Noto Sans";
      --bg:#ffffff; --ink:#111315; --muted:#676b73; --line:#E6E9EF;
      --primary:#b91e1e; --ok:#16a34a;
      --radius:14px; --shadow-1:0 4px 14px rgba(0,0,0,.06);
      --header-h:72px; --t:.3s;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    img{max-width:100%;display:block}
    a{text-decoration:none;color:inherit}
    body{font-family:var(--ui);background:var(--bg);color:var(--ink);line-height:1.5}
    .container{width:min(1140px,94vw);margin:auto}
    :target{scroll-margin-top: calc(var(--header-h) + 16px)}

    /* Header */
    header{position:sticky;top:0;z-index:60;background:rgba(255,255,255,.95);backdrop-filter:blur(8px);border-bottom:1px solid var(--line);transition: box-shadow .2s ease}
    header.scrolled{ box-shadow:0 6px 20px rgba(0,0,0,.08) }
    .nav{display:flex;justify-content:space-between;align-items:center;height:var(--header-h);gap:12px}
    .brand{display:flex;align-items:center;gap:8px}
    .brand img{height:72px}
    .brand span{font-family:var(--logo-font);font-size:2rem;color:var(--primary)}
    .menu{display:flex;gap:16px;align-items:center;font-weight:900;text-transform:uppercase;font-size:.9rem}
    .menu a{display:flex;align-items:center;gap:6px;position:relative;padding:4px 0}
    .menu i{font-size:20px}
    .menu-toggle{display:none;flex-direction:column;gap:5px;background:none;border:none;cursor:pointer;width:28px;height:22px;justify-content:center}
    .menu-toggle span{display:block;width:100%;height:3px;background:var(--ink);border-radius:2px;transition:.3s}
    .menu-toggle.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
    .menu-toggle.active span:nth-child(2){opacity:0}
    .menu-toggle.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}
    .menu a:focus-visible,.menu-toggle:focus-visible,.btn:focus-visible{outline:2px solid var(--primary);outline-offset:2px;border-radius:10px}
    @media(hover:hover){
      .menu a::after{content:"";position:absolute;bottom:-3px;left:0;width:100%;height:2px;background:var(--primary);transform:scaleX(0);transform-origin:left;transition:transform .25s ease}
      .menu a:hover::after{transform:scaleX(1)}
    }
    @media(max-width:768px){
      .menu{
        position:fixed;top:var(--header-h);right:0;left:0;background:var(--bg);
        flex-direction:column;align-items:center;gap:18px;padding:16px 0;border-bottom:1px solid var(--line);
        transform:translateY(-130%);transition:transform var(--t) ease;border-bottom-left-radius:18px;border-bottom-right-radius:18px;z-index:70
      }
      .menu.show{transform:translateY(0);box-shadow:0 12px 30px rgba(0,0,0,.12)}
      .menu-toggle{display:flex}
      .menu a:hover::after{transform:none}
    }

    /* Breadcrumb */
    .crumbs{font-size:.92rem;color:#6b7280;padding:10px 0}
    .crumbs a{color:#6b7280}
    .crumbs i{font-size:.8rem;margin:0 6px;color:#9aa0a6}

    /* Hero */
    .hero{max-width:1140px;margin:18px auto 26px;display:grid;grid-template-columns:1.1fr .9fr;gap:28px;padding:0 8px}
    @media(max-width:980px){.hero{grid-template-columns:1fr}}
    .panel{border:1px solid var(--line);border-radius:var(--radius);background:#fff;box-shadow:var(--shadow-1)}

    /* Carrusel */
    .carousel{position:relative;overflow:hidden;aspect-ratio:4/3;background:#fff;border-radius:inherit}
    .carousel-track{display:flex;transition:transform .35s ease;touch-action:pan-y;cursor:grab;height:100%}
    .carousel-track.dragging{cursor:grabbing}
    .carousel img{width:100%;height:100%;flex:0 0 100%;object-fit:contain;background:#fff;-webkit-user-drag:none;user-select:none}

    /* Puntos (1 por imagen) */
    .carousel-dots{
      position:absolute;bottom:8px;left:50%;transform:translateX(-50%);
      display:flex;gap:6px;z-index:2;background:rgba(255,255,255,.9);border:1px solid var(--line);
      padding:3px 8px;border-radius:999px
    }
    .carousel-dots .dot{width:8px;height:8px;border-radius:50%;border:0;background:#cbd5e1;opacity:.9;cursor:pointer}
    .carousel-dots .dot.active{background:#111;opacity:1}

    /* Thumbs (más grandes y sin recortes) */
    .carousel-thumbs{
      display:flex; gap:10px; align-items:center; justify-content:center;
      margin-top:12px; padding:6px; overflow:auto; -webkit-overflow-scrolling:touch;
    }
    .carousel-thumbs .thumb{
      border:1px solid var(--line); border-radius:10px; background:#fff; padding:0;
      width:92px; aspect-ratio:4/3; display:block; cursor:pointer; overflow:hidden; flex:0 0 auto;
    }
    .carousel-thumbs .thumb img{ width:100%; height:100%; object-fit:contain; background:#fff; display:block; }
    .carousel-thumbs .thumb.active{ outline:2px solid var(--primary); border-color:var(--primary); }
    @media (max-width:768px){ .carousel-thumbs .thumb{ width:76px; } }

    /* Info */
    .info{padding:18px}
    .h1{font-family:var(--sport-font);font-size:clamp(26px,4vw,40px);color:var(--primary);margin-bottom:8px}
    .sub{color:var(--muted);margin-bottom:12px}
    .price{display:flex;align-items:baseline;gap:10px;margin-bottom:12px}
    .now{font-size:1.8rem;color:var(--ink);font-weight:900}
    .was{color:#9aa0a6;text-decoration:line-through}
    .chips{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}
    .chip{font-size:.9rem;border:1px solid var(--line);padding:6px 10px;border-radius:999px;color:#50545b;background:#f8fafc}
    .trust{font-size:.95rem;color:#4b5563;margin:12px 0}
    .trust i{color:var(--ok);margin-right:6px}
    .notes{font-size:.9rem;color:#6b7280;margin-top:10px}

    /* Features */
    .features{background:#f9f9f9;padding:48px 12px;margin-top:10px}
    .features h2{text-align:center;margin-bottom:24px;font-size:clamp(22px,3.2vw,32px);color:var(--primary);font-family:var(--sport-font)}
    .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:16px;max-width:1140px;margin:auto}
    .feature{background:#fff;border:1px solid var(--line);border-radius:12px;padding:18px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.06);font-weight:700}
    .feature i{font-size:26px;color:#ff6a00;margin-bottom:8px}

    /* Testimonios */
    .testimonios{background:#fff;padding:40px 12px}
    .testimonios h2{text-align:center;margin-bottom:16px;font-size:clamp(22px,3vw,30px);color:#ff6a00;font-family:var(--sport-font)}
    .t-list{max-width:900px;margin:0 auto}
    .t-slide{display:none;font-style:italic;font-size:1.05rem;line-height:1.6}
    .t-slide.active{display:block}
    .t-author{margin-top:8px;font-weight:700;color:#6b7280}

    /* Specs */
    .specs{max-width:1000px;margin:48px auto;padding:0 12px}
    .specs h2{text-align:center;margin-bottom:16px;font-size:clamp(22px,3vw,30px);color:var(--primary);font-family:var(--sport-font)}
    table{width:100%;border-collapse:collapse}
    th,td{border:1px solid var(--line);padding:12px;text-align:left}
    th{background:#f6f7f9;font-weight:800}

    /* Galería manual */
    .gallery{max-width:1140px;margin:40px auto;padding:0 12px}
    .gallery h2{text-align:center;margin-bottom:16px;font-size:clamp(22px,3vw,30px);color:#ff6a00;font-family:var(--sport-font)}
    .gallery-track{display:flex;gap:14px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:6px}
    .gallery img{width:260px;flex:0 0 auto;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.08);scroll-snap-align:center}

    /* Buybar (único botón) */
    .buybar{position:sticky;bottom:0;z-index:55;background:rgba(255,255,255,.92);backdrop-filter:blur(8px);border-top:1px solid var(--line)}
    .buybar .inner{display:flex;gap:10px;align-items:center;justify-content:space-between;max-width:1140px;margin:auto;padding:10px 12px}
    .buybar .title{font-weight:800}
    .buybar .priceb{font-weight:900}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;background:#25D366;color:#fff;padding:12px 16px;border-radius:12px;font-weight:800;border:1px solid #1ebe5d}
    .btn:hover{background:#1ebe5d}
    .btn:active{transform:translateY(1px)}

    footer{text-align:center;padding:20px;color:#80848b;margin-top:30px;font-size:.9rem}

    /* Móvil: sin hovers/animaciones CSS extra (solo carrusel por JS) */
    @media (max-width:768px){
      .t-slide{transition:none}
    }
  </style>
</head>
<body>
  <header id="hdr">
    <div class="container nav">
      <div class="brand"><img src="Img/0-removebg-preview.png" alt="Scoot Shop logo"><span>Versatil</span></div>
      <button class="menu-toggle" aria-label="Menú"><span></span><span></span><span></span></button>
      <nav class="menu" aria-label="Principal">
        <a href="index.html"><i class="fas fa-home"></i>Inicio</a>
        <a href="index.html#p-g5"><i class="fas fa-bolt"></i>G2</a>
        <a href="index.html#p-g7"><i class="fas fa-box"></i>T10</a>
        <a href="#specs"><i class="fas fa-list"></i>Specs</a>
        <a href="#legal"><i class="fa-regular fa-file-lines"></i>Legal</a>
        <a href="https://www.instagram.com/scootshopping" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
        <a href="https://www.facebook.com/61579248524907" target="_blank" rel="noopener"><i class="fab fa-facebook"></i></a>
        <a href="https://wa.me/34666318747" target="_blank" rel="noopener"><i class="fab fa-whatsapp"></i></a>
      </nav>
    </div>
  </header>

  <div class="container">
    <nav class="crumbs" aria-label="Breadcrumb">
      <a href="index.html">Inicio</a> <i class="fa-solid fa-angle-right" aria-hidden="true"></i>
      <a href="index.html#series-g">Series GT</a> <i class="fa-solid fa-angle-right" aria-hidden="true"></i>
      <span aria-current="page">G2</span>
    </nav>
  </div>

  <!-- Hero: Carrusel + Info -->
  <section class="hero">
    <div class="panel">
      <div class="carousel" id="heroCarousel">
        <div class="carousel-track">
          <img src="Img-G2/1.jpg" alt="G2 imagen 1" loading="lazy" decoding="async">
          <img src="Img-G2/2.jpg" alt="G2 imagen 2" loading="lazy" decoding="async">
          <img src="Img-G2/3.jpg" alt="G2 imagen 3" loading="lazy" decoding="async">
          <img src="Img-G2/4.jpg" alt="G2 imagen 4" loading="lazy" decoding="async">
          <img src="Img-G2/5.jpg" alt="G2 imagen 2" loading="lazy" decoding="async">
          <img src="Img-G2/6.jpg" alt="G2 imagen 3" loading="lazy" decoding="async">
          <img src="Img-G2/7.jpg" alt="G2 imagen 4" loading="lazy" decoding="async">
        </div>
        <div class="carousel-dots" aria-label="Indicadores"><!-- 1 punto por slide --></div>
      </div>
      <!-- Thumbs del carrusel -->
      <div class="carousel-thumbs" aria-label="Miniaturas"><!-- JS inserta thumbs --></div>
    </div>

    <div class="panel info">
      <h1 class="h1">G2</h1>
      <p class="sub">Equilibrio perfecto entre potencia y autonomía para ciudad y tramos mixtos. Motor de 500 W con respuesta progresiva y batería 48V 10.4Ah para llegar más lejos con confianza.</p>

      <div class="price"><div class="now">380 €</div><div class="was">780 €</div></div>

      <div class="chips">
        <span class="chip">500 W</span>
        <span class="chip">48V 10.4Ah</span>
        <span class="chip">Autonomía 45 km</span>
        <span class="chip">Hasta 40 km/h*</span>
        <span class="chip">Peso 25 kg</span>
        <span class="chip">Pendientes 18–25°</span>
      </div>

      <div class="trust"><i class="fa-regular fa-circle-check"></i> Envío 6–8 días · Garantía 70 km por producto · Pago seguro</div>

      <p class="notes">Incluye: cargador, soporte móvil y manual rápido. SAT propio y repuestos disponibles.</p>
    </div>
  </section>

  <!-- Features -->
  <section class="features">
    <h2>Características principales</h2>
    <div class="features-grid">
      <div class="feature"><i class="fas fa-bolt"></i><p>Motor 500 W</p></div>
      <div class="feature"><i class="fas fa-battery-half"></i><p>Batería 48V 10.4Ah</p></div>
      <div class="feature"><i class="fas fa-gauge-high"></i><p>Hasta 40 km/h*</p></div>
      <div class="feature"><i class="fas fa-route"></i><p>Autonomía real 45 km**</p></div>
      <div class="feature"><i class="fas fa-mountain"></i><p>Pendientes 18–25°</p></div>
      <div class="feature"><i class="fas fa-weight-hanging"></i><p>Peso 25 kg</p></div>
    </div>
    <p style="text-align:center;margin-top:8px;color:#6b7280;font-size:.92rem">*Sujeto a normativa local de circulación. **La autonomía puede variar según peso, terreno y estilo de conducción.</p>
  </section>

  <!-- Testimonios (rotación por JS a 4 s) -->
  <section class="testimonios" aria-label="Testimonios">
    <div class="container">
      <h2>Lo que dicen</h2>
      <div class="t-list" id="tList">
        <div class="t-slide active">
          <p>"Suspensión muy cómoda y el empuje se nota. Subo mi rampa sin problemas."</p>
          <div class="t-author">— Diego S. ⭐⭐⭐⭐⭐</div>
        </div>
        <div class="t-slide">
          <p>"Autonomía realista y estabilidad a 30–35 km/h. Muy seguro."</p>
          <div class="t-author">— Irene V. ⭐⭐⭐⭐⭐</div>
        </div>
        <div class="t-slide">
          <p>"Buena relación calidad-precio. Los frenos responden de maravilla."</p>
          <div class="t-author">— Pablo N. ⭐⭐⭐⭐⭐</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Specs -->
  <section class="specs" id="specs">
    <h2>Especificaciones técnicas</h2>
    <table>
      <tr><th>Motor</th><td>500 W</td></tr>
      <tr><th>Batería</th><td>48V 10.4Ah (litio)</td></tr>
      <tr><th>Autonomía</th><td>Hasta 45 km</td></tr>
      <tr><th>Velocidad máxima</th><td>Hasta 40 km/h*</td></tr>
      <tr><th>Peso</th><td>25 kg</td></tr>
      <tr><th>Pendiente</th><td>18–25°</td></tr>
      <tr><th>Garantía</th><td><strong>70 km por producto</strong></td></tr>
      <tr><th>Envío</th><td><strong>6–8 días</strong> en península</td></tr>
    </table>
    <p style="margin-top:8px;color:#6b7280;font-size:.9rem">*En vía pública, respeta la velocidad permitida.</p>
  </section>

  <!-- Galería manual -->
  <section class="gallery" aria-label="Galería G2">
    <h2>Galería G2</h2>
    <div class="gallery-track">
      <img src="Img-G2/1.jpg" alt="G2 lateral" loading="lazy" decoding="async">
      <img src="Img-G2/2.jpg" alt="G2 detalle frontal" loading="lazy" decoding="async">
      <img src="Img-G2/3.jpg" alt="G2 detalle rueda" loading="lazy" decoding="async">
      <img src="Img-G2/4.jpg" alt="G2 plegado" loading="lazy" decoding="async">
    </div>
  </section>

  <!-- Legal -->
  <section id="legal" class="container" style="margin-bottom:20px">
    <details class="panel" style="padding:14px">
      <summary><strong>Información legal y política de garantías</strong></summary>
      <p style="margin-top:8px;color:#4b5563">
        Garantía <strong>70 km por producto</strong> frente a defectos de fabricación. Envíos estimados <strong>6–8 días</strong>.
        Devoluciones 30 días (producto en buen estado y con accesorios). Para soporte o repuestos, contáctanos por WhatsApp o email.
      </p>
    </details>
  </section>

  <!-- Buybar (ÚNICO botón) -->
  <div class="buybar" role="region" aria-label="Barra de compra">
    <div class="inner">
      <div class="title">G2</div>
      <div class="priceb">380 € <span style="color:#9aa0a6;text-decoration:line-through;font-weight:600;margin-left:8px">780 €</span></div>
      <a class="btn" id="buyBtn" href="https://wa.me/34666318747" target="_blank" rel="noopener" aria-label="Comprar G2 por WhatsApp">
        <i class="fab fa-whatsapp"></i> Comprar ahora
      </a>
    </div>
  </div>

  <footer>© <span id="year"></span> SCOOT SHOP — Envío 6–8 días · Garantía 70 km por producto</footer>

  <script>
    // Año y header
    document.getElementById("year").textContent = new Date().getFullYear();
    const hdr = document.getElementById('hdr');
    const onScrollHdr = () => { if (window.scrollY > 6) hdr.classList.add('scrolled'); else hdr.classList.remove('scrolled'); };
    onScrollHdr(); window.addEventListener('scroll', onScrollHdr, {passive:true});

    // Menú hamburguesa
    const toggle = document.querySelector('.menu-toggle');
    const menu = document.querySelector('.menu');
    toggle?.addEventListener('click', () => { menu.classList.toggle('show'); toggle.classList.toggle('active'); });

    // Prellenar WhatsApp
    (function(){
      const btn = document.getElementById('buyBtn');
      const name = 'G2';
      const spec = '500 W · 48V 10.4Ah · 45 km';
      const price = '380 €';
      const msg = encodeURIComponent(`Hola! Me interesa el ${name}. (${spec}) Precio: ${price}. ¿Está disponible?`);
      btn.href = `https://wa.me/34666318747?text=${msg}`;
    })();

    // ===== Carrusel INFINITO + thumbs + dots por slide + swipe + auto 4s =====
    function makeInfiniteCarousel(el){
      const track = el.querySelector('.carousel-track');
      const dotsWrap = el.querySelector('.carousel-dots');
      const thumbsWrap = el.parentElement.querySelector('.carousel-thumbs');

      // Slides reales
      let realSlides = Array.from(track.children);
      const realCount = realSlides.length;
      if (realCount === 0) return { tick(){}, goTo(){} };

      // Clones para infinito
      const firstClone = realSlides[0].cloneNode(true);
      const lastClone  = realSlides[realCount - 1].cloneNode(true);
      track.appendChild(firstClone);
      track.insertBefore(lastClone, realSlides[0]);

      // Recalcular lista (incluye clones)
      let slides = Array.from(track.children);

      // Estado: empezamos en el primer slide real (índice 1)
      let i = 1;
      let dragging = false, startX = 0, lastX = 0;

      // Dots por slide real
      const dots = [];
      if (dotsWrap){
        dotsWrap.innerHTML = '';
        for (let k = 0; k < realCount; k++){
          const b = document.createElement('button');
          b.type = 'button'; b.className = 'dot'; b.setAttribute('aria-label', `Ir a imagen ${k+1}`);
          b.addEventListener('click', ()=> goToReal(k, true));
          dotsWrap.appendChild(b);
          dots.push(b);
        }
      }

      // Thumbs por slide real
      const thumbs = [];
      if (thumbsWrap){
        thumbsWrap.innerHTML = '';
        realSlides.forEach((img, idx)=>{
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.className = 'thumb';
          const timg = new Image();
          timg.src = img.getAttribute('src');
          timg.alt = img.getAttribute('alt') || `Vista ${idx+1}`;
          btn.appendChild(timg);
          btn.addEventListener('click', ()=> goToReal(idx, true));
          thumbsWrap.appendChild(btn);
          thumbs.push(btn);
        });
      }

      // Utilidades
      const realIndex = () => (i - 1 + realCount) % realCount;

      const updateUI = ()=>{
        const r = realIndex();
        dots.forEach((d,idx)=> d.classList.toggle('active', idx===r));
        thumbs.forEach((b,idx)=> b.classList.toggle('active', idx===r));
        try { thumbs[r]?.scrollIntoView({inline:'center', block:'nearest', behavior:'smooth'}); } catch {}
      };

      const setTransform = (animate = true) => {
        track.style.transition = animate ? 'transform .35s ease' : 'none';
        track.style.transform  = `translateX(${-i*100}%)`;
      };

      const snap = (animate = true) => { setTransform(animate); updateUI(); };

      function goToIndex(index, animate = true){
        i = index;
        snap(animate);
      }

      function goToReal(r, animate = true){
        // r es 0..realCount-1; en la cinta con clones es r+1
        goToIndex(r + 1, animate);
      }

      // Colocar al inicio
      setTransform(false); // sin animación
      requestAnimationFrame(updateUI);

      // Transición fin: gestionar “rebote” a los reales
      track.addEventListener('transitionend', ()=>{
        if (i === slides.length - 1){ // estamos en clone del primero
          i = 1;
          setTransform(false);
        } else if (i === 0){ // estamos en clone del último
          i = slides.length - 2;
          setTransform(false);
        }
      });

      // Controles lógicos
      function next(){ goToIndex(i + 1, true); }
      function prev(){ goToIndex(i - 1, true); }

      // Gestos
      const threshold = () => Math.max(40, el.clientWidth * 0.15);
      const onDown = (e) => {
        dragging = true; startX = e.clientX; lastX = e.clientX;
        track.classList.add('dragging'); track.style.willChange = 'transform';
        track.style.transition = 'none'; track.setPointerCapture?.(e.pointerId);
      };
      const onMove = (e) => {
        if(!dragging) return;
        lastX = e.clientX;
        const dx = lastX - startX;
        track.style.transform = `translateX(calc(${-i*100}% + ${dx}px))`;
        e.preventDefault();
      };
      const onUp = () => {
        if(!dragging) return;
        dragging = false;
        const dx = lastX - startX;
        track.classList.remove('dragging'); track.style.willChange = 'auto';
        if (Math.abs(dx) > threshold()){
          dx < 0 ? next() : prev();
        } else {
          snap(true);
        }
      };

      track.addEventListener('pointerdown', onDown, {passive:false});
      window.addEventListener('pointermove', onMove, {passive:false});
      window.addEventListener('pointerup', onUp, {passive:false});
      window.addEventListener('pointercancel', onUp, {passive:false});
      slides.forEach(img => img.draggable = false);
      window.addEventListener('resize', ()=> setTransform(false), {passive:true});

      return {
        tick(){ if(!dragging && realCount > 1) next(); },
        goTo(indexZeroBased){ goToReal(indexZeroBased, true); }
      };
    }

    const heroCarousel = makeInfiniteCarousel(document.getElementById('heroCarousel'));

    // Testimonios (4 s)
    const tSlides = [...document.querySelectorAll('#tList .t-slide')];
    let tIdx = 0;
    function tickTestimonials(){
      if(!tSlides.length) return;
      tSlides.forEach(s=>s.classList.remove('active'));
      tSlides[tIdx].classList.add('active');
      tIdx = (tIdx + 1) % tSlides.length;
    }
    tSlides.forEach((s,idx)=>s.classList.toggle('active', idx===0));

    // Ticker global 4 s (sincroniza carrusel infinito + testimonios)
    setInterval(()=>{ if(document.hidden) return; heroCarousel.tick(); tickTestimonials(); }, 4000);
  </script>
</body>
</html>
